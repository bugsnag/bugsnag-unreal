<?xml version="1.0" encoding="utf-8"?>
<!-- API: https://docs.unrealengine.com/4.26/en-US/SharingAndReleasing/Mobile/UnrealPluginLanguage/ -->
<root xmlns:android="http://schemas.android.com/apk/res/android">
    <init>
        <setStringFromProperty
            result="sAPIKey"
            ini="Engine"
            section="/Script/Bugsnag.BugsnagSettings"
            property="ApiKey"
            default=""/>
    </init>

    <androidManifestUpdates>
        <addPermission android:name="android.permission.INTERNET" />
        <addElements tag="application">
            <meta-data android:name="com.bugsnag.android.API_KEY"/>
        </addElements>
        <loopElements tag="meta-data">
            <setStringFromAttribute result="metadataName" tag="$" name="android:name"/>
            <setBoolIsEqual result="bMatchingTag" arg1="$S(metadataName)" arg2="com.bugsnag.android.API_KEY"/>
            <if condition="bMatchingTag">
                <true>
                    <addAttribute tag="$" name="android:value" value="$S(sAPIKey)"/>
                </true>
            </if>
        </loopElements>
    </androidManifestUpdates>

    <!--  optional base build.gradle buildscript additions -->
    <buildscriptGradleAdditions>
        <insert>
            dependencies {
                classpath "com.bugsnag:bugsnag-android-gradle-plugin:5.+"
            }
        </insert>
    </buildscriptGradleAdditions>
    <!--  optional app build.gradle additions -->
    <buildGradleAdditions>
        <insert>
            apply plugin: "com.bugsnag.android.gradle"

            dependencies {
                implementation "com.bugsnag:bugsnag-android:5.+"
            }
        </insert>
    </buildGradleAdditions>

    <!-- optional additions to the GameActivity imports in GameActivity.java -->
    <gameActivityImportAdditions> </gameActivityImportAdditions>
    <!-- optional additions to the GameActivity class implements in GameActivity.java (end each line with a comma) -->
    <gameActivityImplementsAdditions> </gameActivityImplementsAdditions>
    <!-- optional additions to the GameActivity class body in GameActivity.java -->
    <gameActivityClassAdditions> </gameActivityClassAdditions>
    <!-- optional additions to GameActivity onCreate metadata reading in GameActivity.java -->
    <gameActivityReadMetadata> </gameActivityReadMetadata>
    <!-- optional additions to GameActivity onCreate in GameActivity.java -->
    <gameActivityOnCreateAdditions> </gameActivityOnCreateAdditions>
    <!-- optional properties to add to gradle.properties -->
    <gradleProperties>
        <insert>
            android.useAndroidX=true
        </insert>
    </gradleProperties>

    <!-- optional libraries to load in GameActivity.java before libUE4.so -->
    <soLoadLibrary>
        <!-- need this if plugin enabled and supported architecture, even if not packaged for GearVR -->
    </soLoadLibrary>
</root>
